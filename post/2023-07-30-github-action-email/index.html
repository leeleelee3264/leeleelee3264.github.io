<!DOCTYPE html>
<html lang="en">

<head>
    
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
<meta name="HandheldFriendly" content="True" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
<meta name="generator" content="Hugo 0.102.3" />


<link rel="shortcut icon" href="https://raw.githubusercontent.com/leeleelee3264/twitter_project/master/favicon.ico" />



<title>[Project] Github Action을 이용해 server-less 하게 서버 healthcheck와 이메일 notification 보내기 - leelee.log</title>


<meta name="author" content="leeleelee3264" />


<meta name="description" content="Github Action을 이용해 server-less 하게 서버 healthcheck와 이메일 notification 보내는 방법을 포스팅한다." />


<meta name="keywords" content="Project" />


<meta property="og:title" content="[Project] Github Action을 이용해 server-less 하게 서버 healthcheck와 이메일 notification 보내기" />
<meta name="twitter:title" content="[Project] Github Action을 이용해 server-less 하게 서버 healthcheck와 이메일 notification 보내기" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://leeleelee3264.github.io/post/2023-07-30-github-action-email/" /><meta property="og:description" content="Github Action을 이용해 server-less 하게 서버 healthcheck와 이메일 notification 보내는 방법을 포스팅한다." />
<meta name="twitter:description" content="Github Action을 이용해 server-less 하게 서버 healthcheck와 이메일 notification 보내는 방법을 포스팅한다." /><meta property="og:image" content="https://leeleelee3264.github.io/static/img/og.png" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://leeleelee3264.github.io/static/img/og.png" /><meta property="article:published_time" content="2023-07-30T00:00:00+00:00" /><meta property="article:modified_time" content="2023-07-30T00:00:00+00:00" />





<link rel="stylesheet" href="https://leeleelee3264.github.io/assets/css/fuji.min.f465179295d3a8a1b7dd2a219c27b03926b10f8caa3e362977d8c14a06e5ca1d1e074591d6900bbc0251d107c6ad6d1ba9f1e3eeaa344c51e97b9ae9490fff59.css" integrity="sha512-9GUXkpXTqKG33SohnCewOSaxD4yqPjYpd9jBSgblyh0eB0WR1pALvAJR0QfGrW0bqfHj7qo0TFHpe5rpSQ//WQ==" />








</head>

<body
  data-theme="light"
  data-theme-auto='false'
  >
    <script data-cfasync="false">
  
  var fujiThemeData = localStorage.getItem('fuji_data-theme');
  
  if (!fujiThemeData) {
    localStorage.setItem('fuji_data-theme', 'auto');
  } else {
    
    if (fujiThemeData !== 'auto') {
      document.body.setAttribute('data-theme', fujiThemeData === 'dark' ? 'dark' : 'light');
    }
  }
</script>

    <header>
    <div class="container-lg clearfix">
        <div class="col-12 header">
            <a class="title-main" href="https://leeleelee3264.github.io/">leelee.log</a>
            
        </div>
    </div>
</header>

    <main>
        <div class="container-lg clearfix">
            
            <div class="col-12 col-md-9 float-left content">
                
<article>
    
    <h2 class="post-item post-title">
        <a href="https://leeleelee3264.github.io/post/2023-07-30-github-action-email/">[Project] Github Action을 이용해 server-less 하게 서버 healthcheck와 이메일 notification 보내기</a>
    </h2>
    <div class="post-item post-meta">
        <span><i class="iconfont icon-today-sharp"></i>&nbsp;2023-07-30</span>

<span><i class="iconfont icon-file-tray-sharp"></i>&nbsp;1839 words</span>

<span><i class="iconfont icon-pricetags-sharp"></i>&nbsp;<a href="/tags/project">Project</a>&nbsp;</span>

    </div>
    
    <div class="post-content markdown-body">
        <br>
<br> 
<blockquote>
<p>Github Action을 이용해 server-less 하게 서버 healthcheck와 이메일 notification 보내는 방법을 포스팅한다.</p>
</blockquote>
<br> 
<p><strong>Index</strong></p>
<ol>
<li>Intro</li>
<li>Github Action 설정</li>
<li>Gmail 설정</li>
<li>결과물</li>
</ol>
<br> 
<h1 id="intro">Intro</h1>
<p>몇 년 전 부터 안쓰는 노트북에 우분투를 설치해, 집에서 서버로 사용하고 있다. 그런데 얼마전부터 노트북의 충전단자 부분이 오래되어서 충전기가 조금만 움직여도 충전이 안되고, 베터리가 떨어진 노트북의 전원이 꺼지는 일이 자주 발생했다. 문제는 지금 활발하게 돌리는 프로젝트가 없어서 서버가 꺼져도 한참 뒤에 알게 된다는 점이다.</p>
<p>노트북이 꺼지면 빠르게 알람을 받을 수 있는 방법을 고민하다가  Github Action을 생각해냈다.</p>
<br>
<blockquote>
<p>시나리오</p>
</blockquote>
<ol>
<li>Github Action으로 주기적으로 서버 health check를 한다.</li>
<li>Github Action이 실패했을 경우, 이메일로 notification을 보낸다.</li>
<li>노트북이 꺼진 것을 알아차리고 조치한다.</li>
</ol>
<br>
<p>Github Action을 사용하면 health check를 하기 위해 별도의 서버를 구성할 필요가 없다. 하지만 걱정되는 부분은 Github Action에서 이메일을 보낼 수 있는 기능이 있을까? 였다. 다행히 Gmail에 특정 설정을 하면 보낼 수 있었다. 이제 설정 방법을 알아보겠다.</p>
<br>
<h1 id="github-action-설정">Github Action 설정</h1>
<p>서버에 health check를 하는 방법은 <code>jtalk/url-health-check-action@v2</code> 의 Action을 사용했다.</p>
<p>실행된 Action의 로그를 확인해보니 등록한 url로 curl을 이용해 리퀘스트를 보내는 형태로 되어있었다. nginx에 https 설정을 했기 때문애 http로 요청을 보내면 응답으로 301 Moved Permanently가 왔다. 301이 왔다는 것 자체가 서버가 떠있는 것으로 판단할 수 있기 때문에 redirection 설정은 하지 않았다.</p>
<br>
<img class="img-zoomable medium-zoom-image __web-inspector-hide-shortcut__" src="/static/img/post/action/curl.png" >
<figcaption align = "center">[Picture 1] curl 로그</figcaption>
<br>
<p>이메일을 보내는 방법은 <code>dawidd6/action-send-mail@v3</code>의 Action을 사용했다. 해당 Action으로 이메일을 보내기 위해서는 꼭 Gmail을 써야 한다. 보낼 이메일의 Subject와 Body 등을 설정해주고, 계정 정보는 민감정보라서 해당 Action이 돌아가는 레포지토리의 Secret으로 등록했다.</p>
<p><code>secrets.EMAIL_USERNAME</code></p>
<ul>
<li>notification을 보낼 이메일 주소다.</li>
</ul>
<p><code>secrets.EMAIL_PASSWORD</code></p>
<ul>
<li>위 이메일 주소의 비밀번호, 앱 비밀번호가 필요해서, 아래에서 발급받는 방법을 설명하겠다.</li>
</ul>
<p><code>secrets.RECEIVER_EMAIL_USERNAME</code></p>
<ul>
<li>notification을 받을 이메일 주소다.</li>
</ul>
<br>
<blockquote>
<p>action flow</p>
</blockquote>
<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>name: healthcheck
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>on:
</span></span><span style="display:flex;"><span>  schedule<span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">-</span> cron<span style="color:#f92672">:</span> <span style="color:#960050;background-color:#1e0010">&#39;</span>0 0 <span style="color:#f92672">*</span> <span style="color:#f92672">*</span> <span style="color:#f92672">*</span><span style="color:#960050;background-color:#1e0010">&#39;</span> <span style="color:#960050;background-color:#1e0010">#</span> Every <span style="color:#a6e22e">midnight</span> <span style="color:#f92672">(</span>12<span style="color:#f92672">:</span>00 AM<span style="color:#f92672">)</span> 
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>jobs:
</span></span><span style="display:flex;"><span>  healthcheck<span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    runs<span style="color:#f92672">-</span>on<span style="color:#f92672">:</span> ubuntu<span style="color:#f92672">-</span>latest
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    steps:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">-</span> name<span style="color:#f92672">:</span> Check the deployed service URL
</span></span><span style="display:flex;"><span>        uses<span style="color:#f92672">:</span> jtalk<span style="color:#f92672">/</span>url<span style="color:#f92672">-</span>health<span style="color:#f92672">-</span>check<span style="color:#f92672">-</span>action<span style="color:#a6e22e">@v2</span>
</span></span><span style="display:flex;"><span>        with<span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>          <span style="color:#960050;background-color:#1e0010">#</span> Check the following URLs one by one sequentially
</span></span><span style="display:flex;"><span>          url<span style="color:#f92672">:</span> http<span style="color:#f92672">:</span><span style="color:#75715e">//leelee.me
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>          <span style="color:#960050;background-color:#1e0010">#</span> Follow redirects<span style="color:#f92672">,</span> or just report success on 3xx status codes
</span></span><span style="display:flex;"><span>          follow<span style="color:#f92672">-</span>redirect<span style="color:#f92672">:</span> <span style="color:#66d9ef">false</span> <span style="color:#960050;background-color:#1e0010">#</span> Optional<span style="color:#f92672">,</span> defaults to <span style="color:#e6db74">&#34;false&#34;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#960050;background-color:#1e0010">#</span> Fail <span style="color:#66d9ef">this</span> action after <span style="color:#66d9ef">this</span> many failed attempts
</span></span><span style="display:flex;"><span>          max<span style="color:#f92672">-</span>attempts<span style="color:#f92672">:</span> 3 <span style="color:#960050;background-color:#1e0010">#</span> Optional<span style="color:#f92672">,</span> defaults to 1
</span></span><span style="display:flex;"><span>          <span style="color:#960050;background-color:#1e0010">#</span> Delay between retries
</span></span><span style="display:flex;"><span>          retry<span style="color:#f92672">-</span>delay<span style="color:#f92672">:</span> 5s <span style="color:#960050;background-color:#1e0010">#</span> Optional<span style="color:#f92672">,</span> only applicable to max<span style="color:#f92672">-</span>attempts <span style="color:#f92672">&gt;</span> 1
</span></span><span style="display:flex;"><span>          <span style="color:#960050;background-color:#1e0010">#</span> Retry all errors<span style="color:#f92672">,</span> including 404<span style="color:#f92672">.</span> This option might trigger curl upgrade<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span>          retry<span style="color:#f92672">-</span>all<span style="color:#f92672">:</span> <span style="color:#66d9ef">false</span> <span style="color:#960050;background-color:#1e0010">#</span> Optional<span style="color:#f92672">,</span> defaults to <span style="color:#e6db74">&#34;false&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">-</span> name<span style="color:#f92672">:</span> Send mail
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span><span style="color:#f92672">:</span> failure<span style="color:#f92672">()</span>
</span></span><span style="display:flex;"><span>        uses<span style="color:#f92672">:</span> dawidd6<span style="color:#f92672">/</span>action<span style="color:#f92672">-</span>send<span style="color:#f92672">-</span>mail<span style="color:#a6e22e">@v3</span>
</span></span><span style="display:flex;"><span>        with<span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>          secure<span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>          <span style="color:#960050;background-color:#1e0010">#</span> mail server settings
</span></span><span style="display:flex;"><span>          server_address<span style="color:#f92672">:</span> smtp<span style="color:#f92672">.</span><span style="color:#a6e22e">gmail</span><span style="color:#f92672">.</span><span style="color:#a6e22e">com</span>
</span></span><span style="display:flex;"><span>          server_port<span style="color:#f92672">:</span> 465
</span></span><span style="display:flex;"><span>          <span style="color:#960050;background-color:#1e0010">#</span> user credentials
</span></span><span style="display:flex;"><span>          username<span style="color:#f92672">:</span> $<span style="color:#f92672">{{</span> secrets<span style="color:#f92672">.</span><span style="color:#a6e22e">EMAIL_USERNAME</span> <span style="color:#f92672">}}</span>
</span></span><span style="display:flex;"><span>          password<span style="color:#f92672">:</span> $<span style="color:#f92672">{{</span> secrets<span style="color:#f92672">.</span><span style="color:#a6e22e">EMAIL_PASSWORD</span> <span style="color:#f92672">}}</span>
</span></span><span style="display:flex;"><span>          <span style="color:#960050;background-color:#1e0010">#</span> email subject
</span></span><span style="display:flex;"><span>          subject<span style="color:#f92672">:</span> <span style="color:#960050;background-color:#1e0010">🔥</span> leelee<span style="color:#f92672">.</span><span style="color:#a6e22e">me</span> SERVER DOWN<span style="color:#f92672">!</span> <span style="color:#960050;background-color:#1e0010">🔥</span>
</span></span><span style="display:flex;"><span>          <span style="color:#960050;background-color:#1e0010">#</span> email body as text
</span></span><span style="display:flex;"><span>          body<span style="color:#f92672">:</span> <span style="color:#960050;background-color:#1e0010">🔥</span> leelee<span style="color:#f92672">.</span><span style="color:#a6e22e">me</span> SERVER DOWN<span style="color:#f92672">!</span> <span style="color:#960050;background-color:#1e0010">🔥</span> Please check home laptop is activating<span style="color:#f92672">.</span> 
</span></span><span style="display:flex;"><span>          <span style="color:#960050;background-color:#1e0010">#</span> comma<span style="color:#f92672">-</span>separated string<span style="color:#f92672">,</span> send email to
</span></span><span style="display:flex;"><span>          to<span style="color:#f92672">:</span> $<span style="color:#f92672">{{</span> secrets<span style="color:#f92672">.</span><span style="color:#a6e22e">RECEIVER_EMAIL_USERNAME</span> <span style="color:#f92672">}}</span>
</span></span><span style="display:flex;"><span>          <span style="color:#960050;background-color:#1e0010">#</span> from email name
</span></span><span style="display:flex;"><span>          from<span style="color:#f92672">:</span> leeleelee3264<span style="color:#f92672">-</span>github</span></span></code></pre></td></tr></table>
</div>
</div>
<br>
<h1 id="gmail-설정">Gmail 설정</h1>
<p>구글 계정은 보안을 위해서 로그인을 할 때 2차 인증을 써야 하는데, Action에서는 어떻게 구글 계정으로 로그인을 해서 이메일을 보낼까? AWS에서 프로그래밍적으로 엑세스를 해야 할 때 access key와 access key secret 을 만드는 것처럼 구글도 프로그래밍적으로 엑세스를 할 때 사용하는 비밀번호가 있다. 바로 <strong>앱 비밀번호이다.</strong></p>
<br>
<p><strong>step 1: 구글 계정 만들기</strong></p>
<p>앱 비밀번호는 구글에서 보안상 권장하지 않는 설정이다. 때문에 자주 쓰는 구글 계정을 사용해 앱 비밀번호를 발급 받지 말고, 앱 비밀번호를 발급 받을 용도로 구글 계정을 하나 만들도록 한다.</p>
<br>
<p><strong>step 2: 2단계 인증 설정</strong></p>
<p>구글에서는 2단계 인증이 설정된 계정에 한해서만 앱 비밀번호를 발급받을 수 있다. 때문에 앱 비밀번호를 발급받기 위해서는 2단계 인증을 설정해야 한다.</p>
<br>
<p><strong>step 3: 보안 → 앱 비밀번호 이동</strong></p>
<img class="img-zoomable medium-zoom-image __web-inspector-hide-shortcut__" src="/static/img/post/action/app.png" >
<figcaption align = "center">[Picture 2] 앱 비밀번호 탭</figcaption>
<br>
<p><strong>step 4: 앱 비밀번호 생성</strong></p>
<p>드롭 박스에 해당하는 앱이 없기 때문에 기타를 선택한다. 앱 이름을 입력해줘야 하는데 아무 이름이나 넣어도 된다.  나는 github action으로 입력했다.</p>
<img class="img-zoomable medium-zoom-image __web-inspector-hide-shortcut__" src="/static/img/post/action/etc.png" >
<figcaption align = "center">[Picture 3] 앱 비밀번호 설정</figcaption>
<br>
<p><strong>step 5: 앱 비밀번호 github secret에 등록</strong></p>
<p>위의 단계를 완료하면 16자리의 앱 비밀번호가 만들어진다. 이 앱 비밀번호를 github secret에 등록한다. <code>EMAIL_PASSWORD</code> 로 등록해주면 된다.</p>
<img class="img-zoomable medium-zoom-image __web-inspector-hide-shortcut__" src="/static/img/post/action/app_pw.png" >
<figcaption align = "center">[Picture 4] 앱 비밀번호</figcaption>
<br>
<p>여기까지 했으면 Github Action이 실패했을 때 이메일로 notification을 받기 위한 작업은 모두 끝났다! 실제 Github Action을 돌려, 실패했을 때 정말 notification 이메일이 날아오는지 확인해보자.</p>
<br>
<h1 id="결과물">결과물</h1>
<p>Action이 실패했을 때 이메일 notification이 발송된다. 이메일을 받았으면 빨리 서버를 복구 시키도록 하자!</p>
<img class="img-zoomable medium-zoom-image __web-inspector-hide-shortcut__" src="/static/img/post/action/email.png" >
<figcaption align = "center">[Picture 5] 이메일 notification</figcaption>
<br>
<p>Github Action의 결과를 뱃지로 표현을 할 수 있다. Github의 README에 뱃지를 표시해두면 멋질 거 같아서 추가 했다.</p>
<img class="img-zoomable medium-zoom-image __web-inspector-hide-shortcut__" src="/static/img/post/action/action_result.png" >
<figcaption align = "center">[Picture 6] 액션 결과 뱃지</figcaption>
<br>
<p>각 뱃지의 주소는 <code>&lt;각 Action의 yaml&gt;/badge.svg</code> 이다. 이 주소를 그대로 긁어와서 README에 등록해주면 된다.</p>
<br>
<blockquote>
<p>health check 뱃지 주소</p>
</blockquote>
<pre><code class="language-java">https://github.com/leeleelee3264/leeleelee3264/actions/workflows/leelee_me_healthcheck.yaml/badge.svg
</code></pre>
<blockquote>
<p>README에 등록한 health check 뱃지 주소</p>
</blockquote>
<pre><code class="language-java">![example workflow](https://github.com/leeleelee3264/leeleelee3264/actions/workflows/leelee_me_healthcheck.yaml/badge.svg)
</code></pre>

    </div>
</article>



<div class="post-comment" data-comment="utterances">
    <span class="post-comment-notloaded">
        <i class="iconfont icon-chatbox-ellipses-sharp"></i>&nbsp;Load comments
    </span>
    <script>
        function loadComment() {
            var commentArea = document.querySelector('.post-comment');
            var utterancesTheme = document.body.getAttribute('data-theme');
            if (utterancesTheme === 'auto') {
                utterancesTheme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'photon-dark' :
                    'github-light';
            } else {
                utterancesTheme = utterancesTheme === 'dark' ? 'photon-dark' : 'github-light';
            }
            var s = document.createElement('script');
            s.src = 'https://utteranc.es/client.js';
            s.setAttribute('repo', 'leeleelee3264\/github_io_comment');
            s.setAttribute('issue-term', 'pathname');
            s.setAttribute('theme', utterancesTheme);
            s.setAttribute('crossorigin', 'anonymous');
            s.setAttribute('async', '');
            document.querySelector('.post-comment').appendChild(s);
            document.querySelector('span.post-comment-notloaded').setAttribute('style', 'display: none;');
        }
    </script>
</div>


            </div>
            <aside class="col-12 col-md-3 float-left sidebar">
    
    <div class="sidebar-item sidebar-pages">
        <h3>Pages</h3>
        <ul>
            
            <li>
                <a href="/">Home</a>
            </li>
            
            <li>
                <a href="/about/">About</a>
            </li>
            
            <li>
                <a href="/archives/">Archives</a>
            </li>
            
        </ul>
    </div>
    
    <div class="sidebar-item sidebar-links">
        <h3>Links</h3>
        <ul>
            
            <li>
                <a href="https://github.com/leeleelee3264" target="_blank"><span>GitHub</span></a>
            </li>
            
            <li>
                <a href="https://www.linkedin.com/in/seungmin4035/" target="_blank"><span>LinkedIn</span></a>
            </li>
            
        </ul>
    </div>
    
    <div class="sidebar-item sidebar-tags">
        <h3>Tags</h3>
        <div>
            
            <span>
                <a href="/tags/backend/">Backend</a>
            </span>
            
            <span>
                <a href="/tags/book/">Book</a>
            </span>
            
            <span>
                <a href="/tags/cheat/">Cheat</a>
            </span>
            
            <span>
                <a href="/tags/frontend/">Frontend</a>
            </span>
            
            <span>
                <a href="/tags/general/">General</a>
            </span>
            
            <span>
                <a href="/tags/infra/">Infra</a>
            </span>
            
            <span>
                <a href="/tags/project/">Project</a>
            </span>
            
        </div>
    </div>
    
</aside>

        </div>
        <div class="btn">
    <div class="btn-menu" id="btn-menu">
        <i class="iconfont icon-grid-sharp"></i>
    </div>
    <div class="btn-toggle-mode">
        <i class="iconfont icon-contrast-sharp"></i>
    </div>
    <div class="btn-scroll-top">
        <i class="iconfont icon-chevron-up-circle-sharp"></i>
    </div>
</div>
<aside class="sidebar-mobile" style="display: none;">
  <div class="sidebar-wrapper">
    
    <div class="sidebar-item sidebar-pages">
        <h3>Pages</h3>
        <ul>
            
            <li>
                <a href="/">Home</a>
            </li>
            
            <li>
                <a href="/about/">About</a>
            </li>
            
            <li>
                <a href="/archives/">Archives</a>
            </li>
            
        </ul>
    </div>
    
    <div class="sidebar-item sidebar-links">
        <h3>Links</h3>
        <ul>
            
            <li>
                <a href="https://github.com/leeleelee3264" target="_blank"><span>GitHub</span></a>
            </li>
            
            <li>
                <a href="https://www.linkedin.com/in/seungmin4035/" target="_blank"><span>LinkedIn</span></a>
            </li>
            
        </ul>
    </div>
    
    <div class="sidebar-item sidebar-tags">
        <h3>Tags</h3>
        <div>
            
            <span>
                <a href="/tags/backend/">Backend</a>
            </span>
            
            <span>
                <a href="/tags/book/">Book</a>
            </span>
            
            <span>
                <a href="/tags/cheat/">Cheat</a>
            </span>
            
            <span>
                <a href="/tags/frontend/">Frontend</a>
            </span>
            
            <span>
                <a href="/tags/general/">General</a>
            </span>
            
            <span>
                <a href="/tags/infra/">Infra</a>
            </span>
            
            <span>
                <a href="/tags/project/">Project</a>
            </span>
            
        </div>
    </div>
    
    
    
    
  </div>
</aside>
    </main>

    <footer>
    <div class="container-lg clearfix">
        <div class="col-12 footer">
            
            <span>&copy; 2020-2023
                <a href="https://leeleelee3264.github.io/">leeleelee3264</a>
                 | <a href="https://github.com/leeleelee3264/leeleelee3264.github.io">Source code</a> 
                | Powered by <a href="https://github.com/dsrkafuu/hugo-theme-fuji/"
                   target="_blank">Fuji-v2</a> &amp; <a href="https://gohugo.io/"
                                                    target="_blank">Hugo</a> 
            </span>
        </div>
    </div>
</footer>

    
<script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js" integrity="sha512-N9IJRoc3LaP3NDoiGkcPa4gG94kapGpaA5Zq9/Dr04uf5TbLFU5q0o8AbRhLKUUlp8QFS2u7S+Yti0U7QtuZvQ==" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js" integrity="sha512-q583ppKrCRc7N5O0n2nzUiJ+suUv7Et1JGels4bXOaMFQcamPk9HjdUknZuuFjBNs7tsMuadge5k9RzdmO+1GQ==" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/prismjs@1.27.0/components/prism-core.min.js" integrity="sha512-LCKPTo0gtJ74zCNMbWw04ltmujpzSR4oW+fgN+Y1YclhM5ZrHCZQAJE4quEodcI/G122sRhSGU2BsSRUZ2Gu3w==" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/prismjs@1.27.0/plugins/autoloader/prism-autoloader.min.js" integrity="sha512-GP4x8UWxWyh4BMbyJGOGneiTbkrWEF5izsVJByzVLodP8CuJH/n936+yQDMJJrOPUHLgyPbLiGw2rXmdvGdXHA==" crossorigin="anonymous"></script>



<script defer src="/assets/js/fuji.min.645f1123be695831f419ab54c1bcba327325895c740014006e57070d4f3e5d6b553e929c4b46f40ea707249e9c7f7c2a446d32a39ce7319f80a34525586a8e0f.js" integrity="sha512-ZF8RI75pWDH0GatUwby6MnMliVx0ABQAblcHDU8&#43;XWtVPpKcS0b0DqcHJJ6cf3wqRG0yo5znMZ&#43;Ao0UlWGqODw=="></script>



</body>

</html>
